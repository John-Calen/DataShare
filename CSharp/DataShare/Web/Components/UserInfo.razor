@using Blazored.LocalStorage
@using Web.Auth


@inject ILocalStorageService LocalStorage
@inject IAuthenticationStateProvider AuthStateProvider


<AuthorizeView>
    <Authorized>
        <div class="row d-flex justify-content-center align-items-center p-2">
            <div class="col-7 text-primary text-end">
                <span>@context.User.Identity?.Name</span>
            </div>

            <div class="col-5">
                <button class="btn btn-primary w-100" @onclick="@LogOut">Log out</button>
            </div>
        </div>
    </Authorized>
</AuthorizeView>

@code 
{
    private async Task LogOut()
    {
        await AuthStateProvider.LogOut();
    }
}
